__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);const t=r(d[1]),s=r(d[2]),c=r(d[3]),n=r(d[4]),o=r(d[5]),u=r(d[6]),{setLogging:l}=r(d[7]);m.exports=Object.assign({languages:n,OEM:o,PSM:u,createScheduler:t,createWorker:s,setLogging:l},c)},217,[220,221,225,238,239,228,240,224]);
__d(function(g,r,_i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(t,n,o){t[n]=o.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function s(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,o){return t[n]=o}}function p(t,n,o,i){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new A(i||[]);return c(h,"_invoke",{value:F(t,o,f)}),h}function y(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var v="suspendedStart",w="suspendedYield",b="executing",L="completed",x={};function E(){}function _(){}function j(){}var O={};s(O,h,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==o&&i.call(G,h)&&(O=G);var N=j.prototype=E.prototype=Object.create(O);function P(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function T(t,n){function o(c,u,h,f){var l=y(t[c],t,u);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==typeof p&&i.call(p,"__await")?n.resolve(p.__await).then(function(t){o("next",t,h,f)},function(t){o("throw",t,h,f)}):n.resolve(p).then(function(t){s.value=t,h(s)},function(t){return o("throw",t,h,f)})}f(l.arg)}var u;c(this,"_invoke",{value:function(t,i){function c(){return new n(function(n,c){o(t,i,n,c)})}return u=u?u.then(c,c):c()}})}function F(t,n,o){var i=v;return function(c,u){if(i===b)throw new Error("Generator is already running");if(i===L){if("throw"===c)throw u;return q()}for(o.method=c,o.arg=u;;){var h=o.delegate;if(h){var f=S(h,o);if(f){if(f===x)continue;return f}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=b;var l=y(t,n,o);if("normal"===l.type){if(i=o.done?L:w,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=L,o.method="throw",o.arg=l.arg)}}}function S(t,o){var i=o.method,c=t.iterator[i];if(c===n)return o.delegate=null,"throw"===i&&t.iterator.return&&(o.method="return",o.arg=n,S(t,o),"throw"===o.method)||"return"!==i&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),x;var u=y(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,x;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function R(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function Y(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,u=function o(){for(;++c<t.length;)if(i.call(t,c))return o.value=t[c],o.done=!1,o;return o.value=n,o.done=!0,o};return u.next=u}}return{next:q}}function q(){return{value:n,done:!0}}return _.prototype=j,c(N,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:_,configurable:!0}),_.displayName=s(j,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,l,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},P(T.prototype),s(T.prototype,f,function(){return this}),t.AsyncIterator=T,t.async=function(o,i,c,u,h){h===n&&(h=Promise);var f=new T(p(o,i,c,u),h);return t.isGeneratorFunction(i)?f:f.next().then(function(t){return t.done?t.value:f.next()})},P(N),s(N,l,"Generator"),s(N,h,function(){return this}),s(N,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),o=[];for(var i in n)o.push(i);return o.reverse(),function t(){for(;o.length;){var i=o.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=Y,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(i,c){return f.type="throw",f.arg=t,o.next=i,c&&(o.method="next",o.arg=n),!!c}for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u],f=h.completion;if("root"===h.tryLoc)return c("end");if(h.tryLoc<=this.prev){var l=i.call(h,"catchLoc"),s=i.call(h,"finallyLoc");if(l&&s){if(this.prev<h.catchLoc)return c(h.catchLoc,!0);if(this.prev<h.finallyLoc)return c(h.finallyLoc)}else if(l){if(this.prev<h.catchLoc)return c(h.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return c(h.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var u=c;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=t,h.arg=n,u?(this.method="next",this.next=u.finallyLoc,x):this.complete(h)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),R(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var c=i.arg;R(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:Y(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},220,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),{log:o}=r(d[1]),n=r(d[2]);let i=0;m.exports=()=>{const s=n('Scheduler',i),c={},l={};let u=[];i+=1;const h=()=>Object.keys(c).length,y=()=>{if(0!==u.length){const t=Object.keys(c);for(let o=0;o<t.length;o+=1)if(void 0===l[t[o]]){u[0](c[t[o]]);break}}},b=(n,i)=>new Promise((c,h)=>{const b=t({action:n,payload:i});u.push(async t=>{u.shift(),l[t.id]=b;try{c(await t[n].apply(this,[...i,b.id]))}catch(t){h(t)}finally{delete l[t.id],y()}}),o(`[${s}]: Add ${b.id} to JobQueue`),o(`[${s}]: JobQueue length=${u.length}`),y()});return{addWorker:t=>(c[t.id]=t,o(`[${s}]: Add ${t.id}`),o(`[${s}]: Number of workers=${h()}`),y(),t.id),addJob:async(t,...o)=>{if(0===h())throw Error(`[${s}]: You need to have at least one worker before adding jobs`);return b(t,o)},terminate:async()=>{Object.keys(c).forEach(async t=>{await c[t].terminate()}),u=[]},getQueueLen:()=>u.length,getNumWorkers:h}}},221,[222,224,223]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]);let o=0;m.exports=({id:n,action:c,payload:l={}})=>{let s=n;return void 0===s&&(s=t('Job',o),o+=1),{id:s,action:c,payload:l}}},222,[223]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=(t,n)=>`${t}-${n}-${Math.random().toString(16).slice(3,8)}`},223,[]);
__d(function(g,r,i,a,m,e,d){'use strict';let l=!1;e.logging=l,e.setLogging=o=>{l=o},e.log=(...o)=>l?console.log.apply(this,o):null},224,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);const t=["logger","errorHandler"],n=r(d[1]),s=r(d[2]),{log:l}=r(d[3]),c=r(d[4]),h=r(d[5]),{defaultOptions:p,spawnWorker:u,terminateWorker:y,onMessage:w,loadImage:L,send:S}=r(d[6]);let f=0;m.exports=async(P="eng",T=h.LSTM_ONLY,E={},F={})=>{const O=c('Worker',f),k=n(Object.assign({},p,E)),{logger:$,errorHandler:b}=k,j=o(k,t),v={},I='string'==typeof P?P.split('+'):P;let M=T,_=F;const z=[h.DEFAULT,h.LSTM_ONLY].includes(T)&&!j.legacyCore;let C,N;const x=new Promise((o,t)=>{N=o,C=t});let A=u(j);A.onerror=o=>{C(o.message)},f+=1;const Y=({id:o,action:t,payload:n})=>new Promise((s,c)=>{l(`[${O}]: Start ${o}, action=${t}`);v[`${t}-${o}`]={resolve:s,reject:c},S(A,{workerId:O,jobId:o,action:t,payload:n})}),D=(o,t)=>Y(s({id:t,action:'loadLanguage',payload:{langs:o,options:{langPath:j.langPath,dataPath:j.dataPath,cachePath:j.cachePath,cacheMethod:j.cacheMethod,gzip:j.gzip,lstmOnly:[h.DEFAULT,h.LSTM_ONLY].includes(M)&&!j.legacyLang}}})),W=(o,t,n,l)=>Y(s({id:l,action:'initialize',payload:{langs:o,oem:t,config:n}}));w(A,({workerId:o,jobId:t,status:n,action:s,data:c})=>{const h=`${s}-${t}`;if('resolve'===n)l(`[${o}]: Complete ${t}`),v[h].resolve({jobId:t,data:c}),delete v[h];else if('reject'===n){if(v[h].reject(c),delete v[h],'load'===s&&C(c),!b)throw Error(c);b(c)}else'progress'===n&&$(Object.assign({},c,{userJobId:t}))});const q={id:O,worker:A,load:()=>console.warn('`load` is depreciated and should be removed from code (workers now come pre-loaded)'),writeText:(o,t,n)=>Y(s({id:n,action:'FS',payload:{method:'writeFile',args:[o,t]}})),readText:(o,t)=>Y(s({id:t,action:'FS',payload:{method:'readFile',args:[o,{encoding:'utf8'}]}})),removeFile:(o,t)=>Y(s({id:t,action:'FS',payload:{method:'unlink',args:[o]}})),FS:(o,t,n)=>Y(s({id:n,action:'FS',payload:{method:o,args:t}})),reinitialize:(o="eng",t,n,s)=>{if(z&&[h.TESSERACT_ONLY,h.TESSERACT_LSTM_COMBINED].includes(t))throw Error('Legacy model requested but code missing.');const l=t||M;M=l;const c=n||_;_=c;const p=('string'==typeof o?o.split('+'):o).filter(o=>!I.includes(o));return I.push(...p),p.length>0?D(p,s).then(()=>W(o,l,c,s)):W(o,l,c,s)},setParameters:(o={},t)=>Y(s({id:t,action:'setParameters',payload:{params:o}})),recognize:async(o,t={},n={text:!0},l)=>Y(s({id:l,action:'recognize',payload:{image:await L(o),options:t,output:n}})),detect:async(o,t)=>{if(z)throw Error('`worker.detect` requires Legacy model, which was not loaded.');return Y(s({id:t,action:'detect',payload:{image:await L(o)}}))},terminate:async()=>(null!==A&&(y(A),A=null),Promise.resolve())};var H;return Y(s({id:H,action:'load',payload:{options:{lstmOnly:z,corePath:j.corePath,logging:j.logging}}})).then(()=>D(P)).then(()=>W(P,T,F)).then(()=>N(q)).catch(()=>{}),x}},225,[129,226,222,224,223,228,229]);
__d(function(g,r,i,a,m,e,d){'use strict';const t='browser'===r(d[0])('type')?t=>new URL(t,window.location.href).href:t=>t;m.exports=o=>{const n=Object.assign({},o);return['corePath','workerPath','langPath'].forEach(c=>{o[c]&&(n[c]=t(n[c]))}),n}},226,[227]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=o=>{const t={};return'undefined'!=typeof WorkerGlobalScope?t.type='webworker':'object'==typeof document?t.type='browser':'object'==typeof process&&'function'==typeof r&&(t.type='node'),void 0===o?t:t[o]}},227,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},228,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),p=r(d[5]);m.exports={defaultOptions:s,spawnWorker:t,terminateWorker:n,onMessage:o,send:c,loadImage:p}},229,[230,233,234,235,236,237]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]).version,t=r(d[1]);m.exports=Object.assign({},t,{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${s}/dist/worker.min.js`})},230,[231,232]);
__d(function(e,s,t,r,a,l,i){a.exports={name:"tesseract.js",version:"7.0.0",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^7.0.0","wasm-feature-detect":"^1.8.0",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}},231,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={workerBlobURL:!0,logger:()=>{}}},232,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=({workerPath:t,workerBlobURL:o})=>{let c;if(Blob&&URL&&o){const o=new Blob([`importScripts("${t}");`],{type:'application/javascript'});c=new Worker(URL.createObjectURL(o))}else c=new Worker(t);return c}},233,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=t=>{t.terminate()}},234,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=(s,t)=>{s.onmessage=({data:s})=>{t(s)}}},235,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=async(s,t)=>{s.postMessage(t)}},236,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=t=>new Promise((n,o)=>{const s=new FileReader;s.onload=()=>{n(s.result)},s.onerror=({target:{error:{code:t}}})=>{o(Error(`File could not be read! Code=${t}`))},s.readAsArrayBuffer(t)}),n=async o=>{let s=o;if(void 0===o)return'undefined';if('string'==typeof o)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o))s=atob(o.split(',')[1]).split('').map(t=>t.charCodeAt(0));else{const t=await fetch(o);s=await t.arrayBuffer()}else if('undefined'!=typeof HTMLElement&&o instanceof HTMLElement)'IMG'===o.tagName&&(s=await n(o.src)),'VIDEO'===o.tagName&&(s=await n(o.poster)),'CANVAS'===o.tagName&&await new Promise(n=>{o.toBlob(async o=>{s=await t(o),n()})});else if('undefined'!=typeof OffscreenCanvas&&o instanceof OffscreenCanvas){const n=await o.convertToBlob();s=await t(n)}else(o instanceof File||o instanceof Blob)&&(s=await t(o));return new Uint8Array(s)};m.exports=n},237,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]);m.exports={recognize:async(n,c,s)=>{const o=await t(c,1,s);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,c)=>{const s=await t('osd',0,c);return s.detect(n).finally(async()=>{await s.terminate()})}}},238,[225]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={AFR:'afr',AMH:'amh',ARA:'ara',ASM:'asm',AZE:'aze',AZE_CYRL:'aze_cyrl',BEL:'bel',BEN:'ben',BOD:'bod',BOS:'bos',BUL:'bul',CAT:'cat',CEB:'ceb',CES:'ces',CHI_SIM:'chi_sim',CHI_TRA:'chi_tra',CHR:'chr',CYM:'cym',DAN:'dan',DEU:'deu',DZO:'dzo',ELL:'ell',ENG:'eng',ENM:'enm',EPO:'epo',EST:'est',EUS:'eus',FAS:'fas',FIN:'fin',FRA:'fra',FRK:'frk',FRM:'frm',GLE:'gle',GLG:'glg',GRC:'grc',GUJ:'guj',HAT:'hat',HEB:'heb',HIN:'hin',HRV:'hrv',HUN:'hun',IKU:'iku',IND:'ind',ISL:'isl',ITA:'ita',ITA_OLD:'ita_old',JAV:'jav',JPN:'jpn',KAN:'kan',KAT:'kat',KAT_OLD:'kat_old',KAZ:'kaz',KHM:'khm',KIR:'kir',KOR:'kor',KUR:'kur',LAO:'lao',LAT:'lat',LAV:'lav',LIT:'lit',MAL:'mal',MAR:'mar',MKD:'mkd',MLT:'mlt',MSA:'msa',MYA:'mya',NEP:'nep',NLD:'nld',NOR:'nor',ORI:'ori',PAN:'pan',POL:'pol',POR:'por',PUS:'pus',RON:'ron',RUS:'rus',SAN:'san',SIN:'sin',SLK:'slk',SLV:'slv',SPA:'spa',SPA_OLD:'spa_old',SQI:'sqi',SRP:'srp',SRP_LATN:'srp_latn',SWA:'swa',SWE:'swe',SYR:'syr',TAM:'tam',TEL:'tel',TGK:'tgk',TGL:'tgl',THA:'tha',TIR:'tir',TUR:'tur',UIG:'uig',UKR:'ukr',URD:'urd',UZB:'uzb',UZB_CYRL:'uzb_cyrl',VIE:'vie',YID:'yid'}},239,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={OSD_ONLY:'0',AUTO_OSD:'1',AUTO_ONLY:'2',AUTO:'3',SINGLE_COLUMN:'4',SINGLE_BLOCK_VERT_TEXT:'5',SINGLE_BLOCK:'6',SINGLE_LINE:'7',SINGLE_WORD:'8',CIRCLE_WORD:'9',SINGLE_CHAR:'10',SPARSE_TEXT:'11',SPARSE_TEXT_OSD:'12',RAW_LINE:'13'}},240,[]);